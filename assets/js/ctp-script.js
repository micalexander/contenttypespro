!function(t){t(document).ready(function(){function e(t){13==t.which&&s()}function a(e){if(""==t('input[name="post_title"]').val()){if(t(".ctp-error").length<1){var a='<div id="message" class="error ctp-error is-dismissible below-h2" style="display: none;">               <p>You must add a title.</p>               </div>';t(a).insertBefore('form[name="post"').velocity("transition.fadeIn",500)}else t(".ctp-error").velocity("callout.flash");e.preventDefault()}}function i(e,a,i){var s,n='input[name="ctp-settings['+e+"]";if(""==t(n).val()){switch(i){case"slug":s=a.toLowerCase().replace(/\s/g,"-");break;case"lower":s=a.toLowerCase();break;case"plural":s=pluralize(a).capitalize();break;case"capital":s=a.capitalize()}var l="",p="";t(n).is("[data-prefix]")&&(l=t(n).attr("data-prefix")+" ",t(n).is("[data-prefix-space]")&&"no"==t(n).attr("data-prefix-space")&&(l=t(n).attr("data-prefix"))),t(n).is("[data-suffix]")&&(p=" "+t(n).attr("data-suffix"),t(n).is("[data-suffix-space]")&&"no"==t(n).attr("data-suffix-space")&&(p=t(n).attr("data-suffix"))),t(n).val(l+s+p)}}function s(){var e=t('input[name="post_title"]').val();""!==e&&(i("name",e,"capital"),i("singular_name",e,"capital"),i("menu_name",e,"plural"),i("name_admin_bar",e,"capital"),i("all_items",e,"plural"),i("add_new",e,"capital"),i("add_new_item",e,"capital"),i("edit",e,"capital"),i("edit_item",e,"capital"),i("new_item",e,"capital"),i("view",e,"capital"),i("view_item",e,"capital"),i("search_items",e,"plural"),i("not_found",e,"plural"),i("not_found_in_trash",e,"plural"),i("parent_item_colon",e,"capital"),i("rewrite_slug",e,"slug"),i("new_item_name",e,"capital"),i("update_item",e,"capital"),i("popular_items",e,"plural"),i("parent_item",e,"capital"),i("separate_items_with_commas",e,"plural"),i("add_or_remove_items",e,"plural"),i("choose_from_most_used",e,"plural"))}function n(e){return e.id&&"dashicons"==t(e.element).attr("value").substring(0,9)?t('<div class="ctp-menu-icon dashicons-before '+t(e.element).attr("value")+'"> '+e.text+"</div>"):e.text}var l=".wp-admin.post-type-ctp-type",p=".wp-admin.post-type-ctp-taxonomy",o=".wp-admin.post-type-ctp-query",r=l+","+p+","+o;t(r).length>0&&(t(document).on("keydown",e),t('input[name="save"], input[name="publish"]').on("click",a),t('input[name="post_title"]').on("blur",s),t(".ctp-input select:not(.ajax)").select2({width:"resolve",templateResult:n,templateSelection:n}),t(".ctp-input .ctp-tag").select2({width:"resolve",tags:!0,tokenSeparators:[","," "]}),t(".ctp-field.hidden").hide(),t(".ctp-field.hidden").find(".conditional").each(function(){var e=this,a=JSON.parse(t(this).attr("data-conditions"));t(a).each(function(){var a=this.key,i=this.type,s=this.conditions;s.indexOf(t("#"+a).val())>-1&&"is"==i||-1==s.indexOf(t("#"+a).val())&&"not"==i?t(e).prop("disabled",!1).addClass("selected").closest(".ctp-field.hidden").show():t(e).prop("disabled",!0).closest(".ctp-field").removeClass("selected").stop().hide()})}),t("[data-conditions]").each(function(){var e=JSON.parse(t(this).attr("data-conditions")),a=t(this);t(e).each(function(){var e=this.key,i=this.type,s=this.conditions;t("#"+e).change(function(){s.indexOf(t(this).val())>-1&&"is"==i||-1==s.indexOf(t(this).val())&&"not"==i?t(a).prop("disabled",!1).closest(".ctp-field").addClass("selected").stop().velocity("transition.expandIn",{display:"table-row",duration:200}):t(a).prop("disabled",!0).closest(".ctp-field").removeClass("selected").stop().hide()})})})),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},t(".ctp-date").pikaday({format:"MMMM Do, YYYY"}),t("#ctp-query-options a").click(function(){var e=t(t(this).attr("href")),a=t(e.selector);return a.velocity("scroll",{offset:"-50px",duration:800}),!1})})}(jQuery);